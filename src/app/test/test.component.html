<div>
    <form [formGroup]="AdForm" >
        <!-- (selectionChange)="modo($event.value)" -->
        <mat-select  formControlName="schedule" style="width: 100px;"(selectionChange)="addForm($event.value)">
            <mat-option *ngFor="let schedule of schedules" [value]="schedule.value">
              {{schedule.viewValue}}
            </mat-option>
          </mat-select>
      <!-- <input type="text" name="name" formControlName="schedule"> -->

      <div *ngIf="AdForm.controls['schedule'].touched">
        <div formGroupName="secondaryForm" *ngIf="select=='1'">
            <input type="text" name="id" formControlName="title">
            <input type="text" name="name" formControlName="desc">
         </div>

         <div formGroupName="secondaryForm" *ngIf="select=='3'">
            <input type="text" name="id" formControlName="date" >
            <input type="text" name="name" formControlName="from">
            <input type="text" name="name" formControlName="to">
         </div>


      </div>

      <button class="btn btn-primary">send</button>
    </form>
  </div>

  <div class="container my-2">
    <div class="row">
        <div class="col-12">
            <h1 class="page__title">محتوى الإعلان</h1>
        </div>
        <div class="col-12">
            <mat-card>
                <mat-card-content>
                    <div class="form__container">
                        <form  [formGroup]="AdForm" dir="rtl"(ngSubmit)="onSubmit()">

                            <div class="col-12">
                                <mat-form-field appearance="outline" class="w-100">
                                  <mat-label>الجددوله</mat-label>
                                  <mat-select  formControlName="schedule"(selectionChange)="addForm($event.value)">
                                    <mat-option *ngFor="let schedule of schedules" [value]="schedule.value">
                                      {{schedule.viewValue}}
                                    </mat-option>
                                  </mat-select>
                                </mat-form-field>
                            </div>
                            <!-- now -->

                            <div   formGroupName="secondaryForm"   class="col-12" *ngIf="AdForm.controls['schedule'].touched && select=='1'">

                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>العنوان</mat-label>
                                    <input formControlName="title" matInput
                                           placeholder="العنوان" type="text"/>

                                  </mat-form-field>

                                  <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>وصف الإعلان</mat-label>
                                    <textarea formControlName="desc" matInput placeholder="وصف الإعلان" rows="1"></textarea>
                                  </mat-form-field>
                                  <div class="col-12 text-center">
                                    <div class="custom-file my-5">
                                        <input
                                          #fileImage
                                          accept="image/png,image/jpeg,image/jpg,image/gif,video/mp4,video/x-m4v,video/*"
                                          aria-describedby="Upload Photo Or Video"
                                          class="d-none"
                                          type="file"/>
                                        <button (click)="fileImage.click()"
                                                class="w-50"
                                                color="primary"
                                                mat-stroked-button
                                                type="button">
                                          رفع صورة او فيديو للإعلان
                                          <svg enable-background="new 0 0 24 24" fill=" #1f6b00" height="24px"
                                               viewBox="0 0 24 24" width="24px" xmlns="http://www.w3.org/2000/svg">
                                            <g>
                                              <rect fill="none" height="24" width="24"/>
                                            </g>
                                            <g>
                                              <path
                                                d="M18,15v3H6v-3H4v3c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-3H18z M7,9l1.41,1.41L11,7.83V16h2V7.83l2.59,2.58L17,9l-5-5L7,9z"/>
                                            </g>
                                          </svg>
                                        </button>
                                      </div>
                                  </div>



                            </div>
                            <!-- end of now -->

                            <!-- schedule -->
                            <div   formGroupName="secondaryForm"   class="col-12" *ngIf="AdForm.controls['schedule'].touched && select=='2'">

                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>التاريخ</mat-label>
                                    <input formControlName="date" matInput
                                           placeholder="العنوان" type="text"/>
                                  </mat-form-field>

                                  <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>الوقت</mat-label>
                                    <input formControlName="time" matInput
                                           placeholder="الوقت" type="text"/>
                                  </mat-form-field>

                                  <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>العنون</mat-label>
                                    <input formControlName="title" matInput
                                           placeholder="العنوان" type="text"/>
                                  </mat-form-field>

                                  <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>الوصف</mat-label>
                                    <input formControlName="desc" matInput
                                           placeholder="الوصف" type="text"/>
                                  </mat-form-field>

                                  <div class="col-12 text-center">
                                    <div class="custom-file my-5">
                                        <input
                                          #fileImage
                                          accept="image/png,image/jpeg,image/jpg,image/gif,video/mp4,video/x-m4v,video/*"
                                          aria-describedby="Upload Photo Or Video"
                                          class="d-none"
                                          type="file"/>
                                        <button (click)="fileImage.click()"
                                                class="w-50"
                                                color="primary"
                                                mat-stroked-button
                                                type="button">
                                          رفع صورة او فيديو للإعلان
                                          <svg enable-background="new 0 0 24 24" fill=" #1f6b00" height="24px"
                                               viewBox="0 0 24 24" width="24px" xmlns="http://www.w3.org/2000/svg">
                                            <g>
                                              <rect fill="none" height="24" width="24"/>
                                            </g>
                                            <g>
                                              <path
                                                d="M18,15v3H6v-3H4v3c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-3H18z M7,9l1.41,1.41L11,7.83V16h2V7.83l2.59,2.58L17,9l-5-5L7,9z"/>
                                            </g>
                                          </svg>
                                        </button>
                                      </div>
                                  </div>



                            </div>
                            <!-- end of schedule -->
                              <!-- schedule -->
                            <div   formGroupName="secondaryForm"   class="col-12" *ngIf="AdForm.controls['schedule'].touched && select=='3'">

                                <div class="row">

    
                                    <mat-form-field appearance="outline" class="w-100">
                                        <mat-label>الوقت</mat-label>
                                        <input formControlName="time" matInput
                                            placeholder="الوقت" type="text"/>
                                    </mat-form-field>

                                    <mat-form-field appearance="outline" class="w-100">
                                        <mat-label>تاريخ انتهاء الإعلان</mat-label>
                                        <input (focus)="picker.open()" [matDatepicker]="picker"(dateInput)="fromTo($event.value)"
                                                formControlName="from" matInput>
                                        <mat-datepicker-toggle [for]="picker" matSuffix></mat-datepicker-toggle>
                                        <mat-datepicker #picker></mat-datepicker>
                                    </mat-form-field>

                                    <mat-form-field appearance="outline" class="w-100">
                                        <mat-label>تاريخ البدئ الإعلان</mat-label>
                                        <input (focus)="picker2.open()" [matDatepicker]="picker2" (dateInput)="fromTo($event.value)"
                                                formControlName="to" matInput>
                                        <mat-datepicker-toggle [for]="picker2" matSuffix></mat-datepicker-toggle>
                                        <mat-datepicker #picker2></mat-datepicker>
                                    </mat-form-field>


    

    

    
                                </div>
                                <ng-container formArrayName="ads"  >
                                    <ng-container *ngFor="let adminForm of ads.controls; let index = index">

                                        <div [formGroupName]="index" class="row">
                                            <mat-form-field appearance="outline" class="col-4">
                                                <mat-label>العنوان</mat-label>
                                                <input formControlName="title" matInput
                                                    placeholder="الوصف" type="text"/>
                                            </mat-form-field>

                                            <mat-form-field appearance="outline" class="col-4">
                                                <mat-label>الوصف</mat-label>
                                                <input formControlName="desc" matInput
                                                    placeholder="الوصف" type="text"/>
                                            </mat-form-field>
                                            <div class="col-4 text-center">
                                                <div class="custom-file">
                                                    <input
                                                    #fileImage
                                                    (change)="handleFileInput($event, index)"

                                                    accept="image/png,image/jpeg,image/jpg,image/gif,video/mp4,video/x-m4v,video/*"
                                                    aria-describedby="Upload Photo Or Video"
                                                    class="d-none"
                                                    type="file"/>
                                                    <button (click)="fileImage.click()"
                                                            class="w-50"
                                                            color="primary"
                                                            mat-stroked-button
                                                            type="button">
                                                    رفع صورة او فيديو للإعلان
                                                    <svg enable-background="new 0 0 24 24" fill=" #1f6b00" height="24px"
                                                        viewBox="0 0 24 24" width="24px" xmlns="http://www.w3.org/2000/svg">
                                                        <g>
                                                        <rect fill="none" height="24" width="24"/>
                                                        </g>
                                                        <g>
                                                        <path
                                                            d="M18,15v3H6v-3H4v3c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-3H18z M7,9l1.41,1.41L11,7.83V16h2V7.83l2.59,2.58L17,9l-5-5L7,9z"/>
                                                        </g>
                                                    </svg>
                                                    </button>
                                                </div>
                                            </div>
            
                                        </div>
                                    </ng-container>
                                </ng-container>



                                <div class="col-12 text-center">
                                    <div class="custom-file my-5">
                                        <input
                                        #fileImage
                                        accept="image/png,image/jpeg,image/jpg,image/gif,video/mp4,video/x-m4v,video/*"
                                        aria-describedby="Upload Photo Or Video"
                                        class="d-none"
                                        type="file"/>
                                        <button (click)="fileImage.click()"
                                                class="w-50"
                                                color="primary"
                                                mat-stroked-button
                                                type="button">
                                        رفع صورة او فيديو للإعلان
                                        <svg enable-background="new 0 0 24 24" fill=" #1f6b00" height="24px"
                                            viewBox="0 0 24 24" width="24px" xmlns="http://www.w3.org/2000/svg">
                                            <g>
                                            <rect fill="none" height="24" width="24"/>
                                            </g>
                                            <g>
                                            <path
                                                d="M18,15v3H6v-3H4v3c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-3H18z M7,9l1.41,1.41L11,7.83V16h2V7.83l2.59,2.58L17,9l-5-5L7,9z"/>
                                            </g>
                                        </svg>
                                        </button>
                                    </div>
                                </div>

                           

                            </div>
                              <!-- end of schedule -->    
                              <div class="col-12 text-center">
                                <button
                                
                                  class="auth__btn--submit"
                                  mat-raised-button
                                  type="submit">
                                  إنشاء الإعلان
                                </button>
                              </div>           
                        </form>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
  </div>

  